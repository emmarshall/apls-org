---
pagetitle: "American Psychology-Law Society"
page-layout: custom
section-divs: false
toc: false
description: |
  The American Psychology-Law Society (AP-LS), Division 41 of the American Psychological Association is an organization dedicated to enhancing the well-being, justice, and human rights through the science and practice of psychology in legal contexts.  
search: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("_site/apls_functions.R")
```

::: column-screen
:::

```{r}
#| classes: '.g-col-lg-6 .g-col-12 .g-col-md-12'
#| echo: false
#| warning: false
#| message: false
carousel("gallery-carousel", 5000, 
         yaml.load_file("carousel.yml"))
```

```{=html}
<style>
#hero-banner {
  padding-top: 35px;
  padding-bottom: 20px;
  
}
#quarto-content main { 
  margin-top: 0;
  padding-top: 0;
}
html {
  scroll-behavior: smooth;
}
.headline {
font-size: 1.25em;
font-weight: 300;
padding-bottom: 1em;
}
.headline p {
  margin: 25px;
  padding-bottom: 0.2rem;
}
.headline a {
  text-decoration: none;
}
.headline ul li {
  margin-bottom: 0.3em;
}
.carousel.card {
  padding-top: 2em;
}
.carousel img {
  width: 70%;
  margin-bottom: 110px;
}
.carousel-control-prev-icon, .carousel-control-next-icon {
  margin-bottom: 110px;
}
.carousel-caption {
  padding-top: 1em;
  padding-bottom: 1em;
}
.touch {
  
}
</style>
```
::: vspace
:::

::: {.column-screen .light-section}
::: grid
```{r}
#| label: Row of links
#| echo: false
#| warning: false
#| message: false
content = rowwise_table(~name, ~icon, ~link,
                        "History", "clock-history", "about/history.html",
  "Committees", "person-rolodex", "about/comittees.html",
    "Job Postings", "briefcase-fill", "resources/job_postings/index.qmd",     
    "Newsletters", "archive-fill", "publications/newsletters/",
  "Awards", "award-fill", "awards/index.qmd"
)
div(class = "bg-light",
 div(class = "bg-breakout",
    div(class = "inner-container",
      div(class = "boxed-wrapper",
            div(class = "boxed-feature-grid",
          pmap(content, function(name, icon, link) {
            div(class = "boxed-feature-grid__item",
              div(class = "boxed-feature-grid__icon",
                a(href = link, class = "boxed-feature-grid__link",
                  tags$i(class = sprintf("bi-%s boxed-feature-grid__i", icon))
                )),
    div(class = "boxed-feature-grid__title", name)
)
          })
        )
      )
    )
  )
)

```
:::

```{r}
#| label: Membership info-bar 
#| output: asis
#| echo: false
#| warning: false
#| message: false

info <- tibble(
  title = "Interested in AP-LS?",
  text = "Become a member.",
  ctr = "Join now",
  link = "membership/membership.qmd",
  icon = "fas fa-scale-balanced"
)

html <- generate_info_bar(info)

cat(html)

```

::: vspace
:::

::: {.column .col-v-center width="15%"}
:::

::: {.column .col-v-center width="70%"}

```{r}
#| echo: false
profile_circle_preview <- '
<div class="p-3 text-center rounded-circle m-3 shadow-lg" style="background-size: cover; background-image: url({image}); width: 225px; height: 225px">
<div class="visually-hidden">{alt}</div>
</div>'
profiles_cropped <- list(
  image = "about/presidents/barry_rosenfeld.jpg",
  alt = c(
    "Picture of Barry Rosenfeld"
  )
)
profiles_cropped_html <- glue::glue_data(profiles_cropped, profile_circle_preview)
profiles_cropped_html <- htmltools::HTML(profiles_cropped_html)
```

::: {.portrait}
`r profiles_cropped_html`
:::

## Welcome from Our President

::: vspace
:::

::: president-intro
<p>Welcome to the American Psychology-Law Society (AP-LS), Division 41 of the American Psychological Association.</p>

<p>Our organizational mission is to "enhance well-being, justice, and human rights through the science and practice of psychology in legal contexts". AP-LS is the premiere organization for students and professionals who are interested in issues at the intersection of psychology and law.</p>

<p>As an organization, we strive to support our members in their work using psychological science and practice to advance justice in our legal system.</p>
:::

::: about-link
[MORE FROM THE PRESIDENT](president/)
:::

:::

```{r}
#| label: Row of additional links
#| echo: false
#| warning: false
#| message: false
content = rowwise_table(~name, ~icon, ~link,
                        "History", "clock-history", "about/history.html",
  "Committees", "person-rolodex", "about/comittees.html",
    "Job Postings", "briefcase-fill", "resources/job_postings/index.qmd",     
    "Newsletters", "archive-fill", "publications/newsletters/",
  "Awards", "award-fill", "awards/index.qmd"
)
div(class = "bg-light",
 div(class = "bg-breakout",
    div(class = "inner-container",
      div(class = "boxed-wrapper",
            div(class = "boxed-feature-grid",
          pmap(content, function(name, icon, link) {
            div(class = "boxed-feature-grid__item",
              div(class = "boxed-feature-grid__icon",
                a(href = link, class = "boxed-feature-grid__link",
                  tags$i(class = sprintf("bi-%s boxed-feature-grid__i", icon))
                )),
    div(class = "boxed-feature-grid__title", name)
)
          })
        )
      )
    )
  )
)

```

:::



::: {.simple-info .alt-background}
::: content-block
### Get ready for the 2023 American Psychology-Law Society Conference in Philadelphia, PA---March 16-18.

[Learn More](conferences/index.html){.btn-action-primary .btn-action .btn .btn-primary .btn-lg role="button"}
:::
:::

::: vspace
:::


::: {.column-screen}
::: {.column .col-v-center width="15%"}
:::

::: {.column .col-v-center width="70%"}
```{r}
#| echo: false
#| warning: false
#| message: false
#| label: build calendar

library(dplyr)
library(tidyr)
library(readr)
library(reactable)
library(tidyverse)
library(htmltools)

march <- read_csv("events/mar23.csv")

update_cal <- function(csv_file) {
  # read in CSV file
  events <- read.csv(csv_file, stringsAsFactors = FALSE)
  
  # loop over events
  for (i in seq_len(nrow(events))) {
    # extract current event data
    day <- events$day[i]
    date <- events$date[i]
    link <- events$link[i]
    
    # modify calendar tibble to include current event
    march <- march %>%
      mutate(!!sym(day) := ifelse(!!sym(day) == date, 
                                   paste0("<p>", date, "</p><p><a href=\"", link, "\">Event</a></p>"),
                                   !!sym(day)))
  }
  
  # return updated calendar
  return(march)
}

my_cal <- update_cal("events/march_events.csv") 


tbl <- reactable(my_cal,
  theme = reactableTheme(
    backgroundColor = "#1B3264",
    stripedColor = "#1B3264",
    style = list(color = "#FBF9F4")
  ),
  defaultColDef = colDef(
    align = "center",
    width = 121,
    html = TRUE,
    headerStyle = list(borderColor = "#FBF9F4"),
    footerStyle = list(html = TRUE, fontSize = 11, borderColor = "#FBF9F4"),
    style = function(value) {
      if(!is.na(value)) {
        list(
          borderRight = '1px solid #FBF9F4', 
          borderBottom = '1px solid #FBF9F4', 
          borderLeft = '1px solid #FBF9F4', 
          borderTop = '1px solid #FBF9F4', 
          height = 100
        )
      } else {
        list(borderRight = '1px solid #1B3264', height = 75)
      }
    }
  )
)


```

```{r build div, echo=FALSE, warning=FALSE, message=FALSE}

div(class = "cal-container",
div(class = "calendar",
    div(class = "title-tab",
        h2("March 2023"),
        "Upcoming events for the American Psychology-Law Society."
        ),
    tbl,
    paste0("Last updated: February 27, 2023")
    )
)
```

```{r echo=FALSE}
tags$link(href = "https://fonts.googleapis.com/css2?family=Proza+Libre:ital,wght@0,400;0,500;0,700;1,400&display=swap", rel = "stylesheet")
```

```{css echo=FALSE, warning=FALSE, message=FALSE}
@import url(https://use.fontawesome.com/releases/v6.1.1/css/all.css); 

.cal-container {
  width: 100%;
  height: 800px;
  overflow-x: auto;
  overflow-y: auto;
}

@media only screen and (max-width: 768px) {
  .cal-container {
    max-width: 800px;
  }
}

.calendar {
  font-family: 'Proza Libre', sans-serif;
  font-size: 1rem;
}

.calendar a {
  color: yellow;
}


.title-tab {
  font-family: 'Proza Libre', sans-serif;
  margin-top: 2rem;
  margin-bottom: 1.125rem;
  font-size: 1rem;
  text-align: center;
}

.title-tab h2 {
  font-family: 'Cormorant Garamond' sans-serif;
  font-size: 2rem;
  font-weight: 600;
}


```
:::

:::

::: column-screen
::: {.column .col-v-center width="15%"}
:::

::: {.column .col-v-center width="70%"}
# Events

## Event test number one. {#event-test}
:::
:::
